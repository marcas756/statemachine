\hypertarget{sm_8c}{}\subsection{src/sm.c File Reference}
\label{sm_8c}\index{src/sm.\+c@{src/sm.\+c}}


General U\+ML state machine implementation.  


{\ttfamily \#include \char`\"{}sm.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
Include dependency graph for sm.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=188pt]{sm_8c__incl}
\end{center}
\end{figure}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structsm__state__t}{sm\+\_\+state\+\_\+t} $\ast$ \hyperlink{group___sm_interface_ga4d433df4f0fbd1033d3815ad870cdc5f}{sm\+\_\+init} (\hyperlink{structsm__t}{sm\+\_\+t} $\ast$sm, const \hyperlink{structsm__state__t}{sm\+\_\+state\+\_\+t} $\ast$state)
\begin{DoxyCompactList}\small\item\em Initialize a statemachine with a provided initial state. \end{DoxyCompactList}\item 
void \hyperlink{group___sm_interface_ga4a0ade9dfadc3d8a476cd64934ee369c}{sm\+\_\+terminate} (\hyperlink{structsm__t}{sm\+\_\+t} $\ast$sm)
\begin{DoxyCompactList}\small\item\em Terminates the statemachine. \end{DoxyCompactList}\item 
\hyperlink{structsm__state__t}{sm\+\_\+state\+\_\+t} $\ast$ \hyperlink{group___sm_interface_gac4c2466939ae8d63448dc84848abb7fe}{sm\+\_\+send} (\hyperlink{structsm__t}{sm\+\_\+t} $\ast$sm, \hyperlink{sm_8h_a1db78734760bf970c329945446b28432}{event\+\_\+t} event, void $\ast$data)
\begin{DoxyCompactList}\small\item\em Sends an event to a statemachine. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{sm_8h_a858adebebe4f5a481688f24fcbbd5544}{sm\+\_\+transition\+\_\+effect\+\_\+fp} \hyperlink{sm_8c_a96c99a5af0b8720710e99939364da3af}{sm\+\_\+transition\+\_\+effect} = N\+U\+LL
\begin{DoxyCompactList}\small\item\em Action to carry out in case of a specific transition. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
General U\+ML state machine implementation. 

\begin{DoxyCopyright}{Copyright}
Copyright (c) 2013, \href{mailto:marco@bacchi.at}{\tt marco@bacchi.\+at} All rights reserved.
\end{DoxyCopyright}
Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:
\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\item The name of the author may not be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyEnumerate}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE A\+U\+T\+H\+OR ``\+AS IS\textquotesingle{}\textquotesingle{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE A\+U\+T\+H\+OR BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE.

\begin{DoxyVersion}{Version}
0000 
\end{DoxyVersion}
\begin{DoxyAuthor}{Authors}
\href{mailto:marco@bacchi.at}{\tt marco@bacchi.\+at} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2013
\end{DoxyDate}
U\+ML state machine, also known as U\+ML state chart, is a significantly enhanced realization of the mathematical concept of a finite automaton in computer science applications as expressed in the Unified Modeling Language (U\+ML) notation. (wikipedia)~\newline
~\newline
 The concepts behind it are about organizing the way a device, computer program, or other (often technical) process works such that an entity or each of its sub-\/entities is always in exactly one of a number of possible states and where there are well-\/defined conditional transitions between these states. (wikipedia)~\newline
~\newline
 This module and its interface provides the general implementation part for any state machine written for this implementation.

This implementation supports\+:~\newline
~\newline

\begin{DoxyItemize}
\item finite flat state machines
\item guard conditions for transitions
\item state entry and exit actions
\item do actions by starting/stopping (proto)threads in entry/exit action respectively
\item transition effects (actions directly associated with a specific transition)
\end{DoxyItemize}

Limitations of this implementation\+: ~\newline
~\newline

\begin{DoxyItemize}
\item not interrupt/thread safe
\item hierarchical state machines not supported
\item execution time overhead due to generalization in comparison to quick and dirty F\+S\+Ms
\item transition fork/join not supported
\item history states not supported
\item sending events in entry/exit/transition/effect functions not allowed (due to recursion)
\end{DoxyItemize}

References\+: I\+S\+BN 3-\/8273-\/1486-\/0 Das U\+M\+L-\/\+Benutzerhandbuch

{\bfseries Changelog}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*4{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Revision}&{\bf Date }&{\bf Name }&{\bf Change  }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Revision}&{\bf Date }&{\bf Name }&{\bf Change  }\\\cline{1-4}
\endhead
0000 &00.\+00.\+00&bacmar&Detailed Change Text \\\cline{1-4}
\end{longtabu}


\subsubsection{Variable Documentation}
\index{sm.\+c@{sm.\+c}!sm\+\_\+transition\+\_\+effect@{sm\+\_\+transition\+\_\+effect}}
\index{sm\+\_\+transition\+\_\+effect@{sm\+\_\+transition\+\_\+effect}!sm.\+c@{sm.\+c}}
\paragraph[{\texorpdfstring{sm\+\_\+transition\+\_\+effect}{sm_transition_effect}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sm\+\_\+transition\+\_\+effect\+\_\+fp} sm\+\_\+transition\+\_\+effect = N\+U\+LL}\hypertarget{sm_8c_a96c99a5af0b8720710e99939364da3af}{}\label{sm_8c_a96c99a5af0b8720710e99939364da3af}


Action to carry out in case of a specific transition. 

Callback function type for transition effects.

You can associate a transition with an effect, which is an optional activity performed when a specific transition fires. The associated function may only be set within a transition function. It will be reset to N\+U\+LL again after state transition. Transition effects will not work for internal state transitions.

\begin{DoxyRemark}{Remarks}
Move to sm instance in future (for future thread safe version) or to transition function as parameter 
\end{DoxyRemark}


Definition at line 93 of file sm.\+c.

